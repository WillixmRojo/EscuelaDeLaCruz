import{u as x,Q as V}from"./notifyHooks.1fdf4c81.js";import{E as _,F as Q,x as m,o as $,c as C,w as l,a as o,Q as k,G as n,V as g,H as c,I as r,J as N,K as U}from"./index.215bcf1e.js";import{Q as B}from"./QForm.a0422c6a.js";import{Q as F}from"./QPage.7186be06.js";import{u as I}from"./use-quasar.2ea2c5ba.js";import{T as R}from"./TGCLoading.1805aca6.js";const S={class:"form-group q-gutter-md",style:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"}},T={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},E=n("p",{class:"text-cpl-text",style:{"font-size":"20px",color:"#00563b"}},[g(" \xBFYa tienes una cuenta? "),n("a",{href:"/access",style:{color:"#00a9e0"}}," Ingresa! ")],-1),P={__name:"RegisterPage",setup(z){const b=I(),{showNotify:f}=x(),v=_(),h=Q(),u=m(""),i=m(""),d=m(""),s=m(""),p=m(""),w=async()=>{try{b.loading.show({spinner:R,delay:300});const a=await v.register(u.value,i.value,d.value,s.value,p.value);h.push("/access"),f(a,"positive","mdi-account-plus"),u.value="",i.value="",d.value="",s.value="",p.value="";return}catch(a){console.log("error",a),a.error?y(a.error):a.errors?y(a.errors[0].msg):y()}finally{b.loading.hide()}},y=(a="Error en el servidor")=>{b.dialog({title:"Error",message:a})};return(a,t)=>($(),C(F,{padding:"",style:{"min-height":"100%"}},{default:l(()=>[o(B,{onSubmit:U(w,["prevent"]),style:{height:"100%"}},{default:l(()=>[o(k,{style:{"background-color":"white",width:"500px",height:"100%","text-align":"center","border-radius":"15px"}},{default:l(()=>[n("div",S,[n("div",null,[o(V,{style:{"font-size":"25px",color:"#00563b","font-weight":"600","padding-bottom":"20px"}},{default:l(()=>[g(" Ingrese sus datos... ")]),_:1}),o(c,{color:"white",modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),label:"RFC","label-color":"$primary","bg-color":"white",rounded:"",dense:"",outlined:"",standout:"$primary",rules:[e=>e!==""||"Debe capturar su RFC..."],style:{"padding-bottom":"30px"}},{append:l(()=>[o(r,{name:""})]),prepend:l(()=>[o(r,{name:"mdi-account-outline",style:{color:"#00563b"}})]),_:1},8,["modelValue","rules"]),o(c,{color:"white",modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),label:"Nombre de Usuario","label-color":"$primary","bg-color":"white",rounded:"",dense:"",outlined:"",standout:"$primary",rules:[e=>e!==""||"Debe capturar el nombre de usuario..."],style:{"padding-bottom":"30px"}},{append:l(()=>[o(r,{name:""})]),prepend:l(()=>[o(r,{name:"mdi-account-outline",style:{color:"#00563b"}})]),_:1},8,["modelValue","rules"]),o(c,{color:"white",modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),label:"E-Mail","label-color":"$primary","bg-color":"white",rounded:"",dense:"",outlined:"",standout:"$primary",rules:[e=>e&&/^[^@]+@[^@]+\.[a-zA-Z]{2,}$/.test(e)||"Formato de email incorrecto"]},{append:l(()=>[o(r,{name:""})]),prepend:l(()=>[o(r,{name:"mdi-email-outline",style:{color:"#00563b"}})]),_:1},8,["modelValue","rules"])]),n("div",null,[o(c,{color:"white",type:"password",modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),label:"Contrase\xF1a","label-color":"$primary","bg-color":"white",rounded:"",dense:"",outlined:"",standout:"$primary",rules:[e=>e!==""||"Debe capturar la contrase\xF1a"],style:{"padding-bottom":"30px"}},{append:l(()=>[o(r,{name:""})]),prepend:l(()=>[o(r,{name:"mdi-lock-outline",style:{color:"#00563b"}})]),_:1},8,["modelValue","rules"]),o(c,{color:"white",type:"password",modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=e=>p.value=e),label:"Confirmar Contrase\xF1a","label-color":"$primary","bg-color":"white",rounded:"",dense:"",outlined:"",standout:"$primary",rules:[e=>e===s.value||"No coinciden las contrase\xF1as"]},{append:l(()=>[o(r,{name:""})]),prepend:l(()=>[o(r,{name:"mdi-lock-check-outline",style:{color:"#00563b"}})]),_:1},8,["modelValue","rules"])])]),n("div",T,[o(N,{class:"btn btn-signin",disable:u.value===""||i.value===""||d.value===""||s.value===""||p.value==="",label:"Registrarse",type:"submit",style:{width:"350px"}},null,8,["disable"]),E])]),_:1})]),_:1},8,["onSubmit"])]),_:1}))}};export{P as default};
